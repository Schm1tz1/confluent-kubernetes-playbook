# CFK Deployment with KRaft

Note:
Install CFK Operator with KRaft enabled:
```shell
helm upgrade --install confluent-operator \
  confluentinc/confluent-for-kubernetes \
  --set kRaftEnabled=true \
  --namespace <namespace>
```

Working example:
- Deployment file for a 'large' cluster (3 kraft / 3 brokers)
- Works with MDS / RBAC
- Leveraging the ldap helm deployment from the CFK examples
- Need to be aware of is the set the default replication factor and min insync replica in the kraft controller

Further reading:
- https://github.com/confluentinc/confluent-kubernetes-examples/tree/master/security/kraft_sasl_ssl_autogenerated
- https://github.com/confluentinc/confluent-kubernetes-examples/issues/73
- https://docs.confluent.io/platform/current/kafka-metadata/kraft.html#current-limitations-and-known-issues
- https://docs.confluent.io/operator/current/co-deploy-cfk.html#deploy-co-with-kraft
